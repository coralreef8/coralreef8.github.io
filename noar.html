<!doctype HTML>
<html>
  <head>
    <!-- <script src="https://aframe.io/releases/1.0.3/aframe.min.js"></script>
    <script type="text/javascript" src="https://cdn.rawgit.com/jeromeetienne/AR.js/1.6.2/aframe/build/aframe-ar.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/3.0.2/aframe/build/aframe-ar-nft.js"></script> -->
    <script src="https://cdn.jsdelivr.net/gh/aframevr/aframe@1c2407b26c61958baa93967b5412487cd94b290b/dist/aframe-master.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script>

    <!-- <script src="https://raw.githack.com/donmccurdy/aframe-extras/master/dist/aframe-extras.loaders.min.js"></script> -->
  </head>

  <body style='margin : 0px; overflow: hidden;'>
    <div class="buttons">
    <button class="say-hi-button">SAY HI!</button>
    <button class="say-bye-button">SAY BYE!</button>
    </div>
    <a-scene embedded vr-mode-ui="enabled: false" arjs="sourceType: webcam; debugUIEnabled: false; detectionMode: mono_and_matrix; matrixCodeType: 3x3;">
      <a-assets>
        <video id="vidyo" autoplay loop="true" muted="true" src="assets/seviyorum.mp4" border-radius="50px"></video>
        <audio id="sound" src="assets/asigim.mp3" preload="auto"></audio>
      </a-assets>
      <a-marker preset="hiro">
        <a-video src="#vidyo" position="0.51 0.01 0" rotation="0 0 0" play="true" width="2.18" height="1.21"></a-video>
        <a-entity sound="src: #sound"></a-entity>
      </a-marker>
      <a-entity camera></a-entity>
    </a-scene>

    <script>

      var playing = false;
      var audioPlaying = false;

      document.querySelector(".say-hi-button").addEventListener('click', function () {
      var v = document.querySelector('#vidyo');
      //var audio = document.querySelector('#sound');
      if(playing == false){
        v.play();
        //audio.play();
        playing = true;
        //audioPlaying = true;
      }else{
        v.pause();
        //audio.pause();
        playing = false;
        //audioPlaying = false;
      }

      });

      document.querySelector(".say-bye-button").addEventListener('click', function () {
      //var v = document.querySelector('#vidyo');
      var audio = document.querySelector('#sound');
      if(playing == false){
        //v.play();
        audio.play();
        //playing = true;
        audioPlaying = true;
      }else{
        //v.pause();
        audio.pause();
        //playing = false;
        audioPlaying = false;
      }

      });

      var iOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;

      if(iOS){
        var vid = document.getElementById("vidyo");
        vid.setAttribute("position" , "0 0 0");
        vid.setAttribute("rotation", "0 0 0");
      }

    </script>

    <style>

      #vidyo{
        border-radius: 50%;
      }

      .buttons {
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 5em;
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 10;
      }

      .say-hi-button {
        padding: 0.25em;
        border-radius: 4px;
        border: none;
        background: white;
        color: black;
        width: 4em;
        height: 2em;
      }

      .say-bye-button {
        padding: 0.25em;
        border-radius: 4px;
        border: none;
        background: white;
        color: black;
        width: 4em;
        height: 2em;
      }

    </style>

  </body>
</html>
